<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="format-detection" content="telephone=no">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="">
        <meta name="keywords" content="">

        <title>blog</title>

        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,700italic" rel="stylesheet" type="text/css">
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/css/main.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <div class="container">
            <header>
                <h1><a href="/">blog?</a></h1>
            </header>

            <div class="post">
                <h1><code>vim</code>, <code>backupcopy</code> and webpack dev server</h1>
                <h3>30 July 2016</h3>

                <p>
                    This is just a quick note about what seems to be a common
                    gotcha when using vim to develop with webpack's dev server.
                    If you have ever been frustrated by it seemingly ignoring
                    your changes, intermittently reloading, or other similar
                    behavior where it seems like your edits are not being
                    noticed by the dev server, you need to set vim's
                    <code>backupcopy</code> option:
                </p>

<pre>set backupcopy=yes</pre>

                <p>
                    Doing this in your <code>~/.vimrc</code> should be
                    sufficient and should also not cause any performance issues
                    on a machine with reasonably fast disks. If your machine
                    isn't that fast or you regularly edit large files, you may
                    want to wrap this option in an autocommand specific to js
                    files:
                </p>

<pre>au BufNewFile,BufReadPre *.js set backupcopy=yes</pre>

                <p>
                    The <code>backupcopy</code> option controls how new files
                    are written. The three options are making a copy and
                    overwriting the file (<code>backupcopy=yes</code>),
                    renaming the file and writing a new one
                    (<code>backupcopy=no</code>), and automatically selecting a
                    one of the preceding two (<code>backupcopy=auto</code>, the
                    default). More information can be found in the vim
                    documentation:
                    <a href="http://vimdoc.sourceforge.net/htmldoc/options.html#%27backupcopy%27">http://vimdoc.sourceforge.net/htmldoc/options.html#'backupcopy'</a>.
                </p>

                <p>
                    Here's the source discussion where I discovered this:
                    <a href="https://github.com/webpack/webpack/issues/781">https://github.com/webpack/webpack/issues/781</a>
                </p>

                <p>
                    It also seems to be included in the main docs now as well:
                    <a href="https://webpack.github.io/docs/webpack-dev-server.html">https://webpack.github.io/docs/webpack-dev-server.html</a>
                </p>
            </div>
        </div>

        <footer>
            <p>
                &copy; 2016 Ryan Kelly.
                <a href="https://github.com/f0rk/blog.ryankelly.us/" target="_blank">GitHub</a>.
                <a href="https://www.linkedin.com/in/rpkelly" target="_blank">LinkedIn</a>.
            </p>
        </footer>

        <script>
            (function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,"script","https://www.google-analytics.com/analytics.js","ga");

            ga("create", "UA-80585364-1", "auto");
            ga("send", "pageview");
        </script>
    </body>
</html>
